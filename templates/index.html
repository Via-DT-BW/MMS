<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" type="image/ico" href="static/initial_page/img/icon.PNG">
    <title>MMS</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" />
    <!-- https://fonts.google.com/specimen/Open+Sans -->
    <link rel="stylesheet" href="static/initial_page/css/all.min.css" />
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="static/initial_page/css/bootstrap.min.css" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="static/initial_page/css/tooplate-style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style type="text/css">
    .modal {
        z-index: 10000;
    }

    #coisa_footer {
        text-align: center;
    }
    body {
        
        font-family: 'Montserrat';
    }
    </style>
</head>

<body>
    <!-- page header -->
    <div class="container" id="home">
        <div class="col-12 text-center">
            <div class="tm-page-header">
                <div>
                    <img style="height:110px;margin-bottom: 10px;" src="static/initial_page/img/app_logo_3.png" alt="Image" class="tm-activity-img" />
                </div>
            </div>
        </div>
    </div>
    <!-- navbar -->
    <div class="tm-nav-section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="navbar navbar-expand-lg navbar-light ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <img style="height:25px; margin-top: 25px; margin-right: 20px;" src="static/initial_page/img/borgwarner_blue.png" alt="Image" class="tm-activity-img" />
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link" type="button" data-toggle="modal" data-target="#LoginMRP" href="#" style="font-size: 22px;margin-right: 10px;">Autonomous Maintenance</a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link" type="button" data-toggle="modal" data-target="#myModal" href="#" style="font-size: 22px;margin-right: 10px;">Preventive Maintenance</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" type="button" data-toggle="modal" data-target="#myModal2" href="#" style="font-size: 22px;margin-right: 10px;">Corrective Maintenance</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" type="button" data-toggle="modal" data-target="#myModal3" href="#" style="font-size: 20px;margin-right: 10px;">Daily Maintenance</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" type="button" data-toggle="modal" data-target="#SparesLogin" href="#" style="font-size: 20px;margin-right: 10px;">Monitoring Maintenance</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            
            <div class="row">
                {% with messages = get_flashed_messages(with_categories=true,category_filter=["error","info","success","warning"]) %}
                {% if messages %}
                {% for category,message in messages %}
                {% if category == 'warning' %}
                <div class="alert alert-warning" role="alert">
                    <span>{{ message }}</span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% elif category == 'info' %}
                <div class="alert alert-info" role="alert">
                    <span>{{ message }}</span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% elif category == 'success' %}
                <div class="alert alert-success" role="alert">
                    <span>{{ message }}</span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% elif category == 'error' %}
                <div class="alert alert-danger" role="alert">
                    <span>{{ message }}</span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endif %}
                {% endfor %}
                {% endif %}
                {% endwith %}
            </div>
        </div>
    </div>
    <!-- Video Banner -->
    <section class="tm-banner-section" id="tmVideoSection">
        <div class="container tm-banner-text-container">
            <div class="row">
                <div class="col-12">
                    <header>
                        <h2 class="tm-banner-title"><strong>M.M.S.</strong></h2>
                        <p class="mx-auto tm-banner-subtitle">
                            <strong>Maintenance Management System</strong>
                        </p>
                    </header>
                </div>
            </div>
        </div>
        <!-- Video -->
        <video id="hero-vid" autoplay="" loop="" muted style="width:100%;height: auto;">
            <source src="static/initial_page/videos/shutterstock.mp4" type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </section>
    <footer class="container tm-footer" id="coisa_footer">
        <div class="row tm-footer-row">
            <p class="col-md-10 col-sm-12 mb-0">
                Copyright &copy; {{year}} Digital Transformation - Viana do Castelo
                <a rel="nofollow" class="tm-footer-link">Borgwarner</a>
            </p>
        </div>
    </footer>
    <script src="static/initial_page/js/jquery-1.9.1.min.js"></script>
    <!-- Single Page Nav plugin works with this version of jQuery -->
    <script src="static/initial_page/js/jquery.singlePageNav.min.js"></script>
    <script src="static/initial_page/js/bootstrap.min.js"></script>
    <script>
    /**
     * detect IE
     * returns version of IE or false, if browser is not Internet Explorer
     */
    function detectIE() {
        var ua = window.navigator.userAgent;

        var msie = ua.indexOf("MSIE ");
        if (msie > 0) {
            // IE 10 or older => return version number
            return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)), 10);
        }

        var trident = ua.indexOf("Trident/");
        if (trident > 0) {
            // IE 11 => return version number
            var rv = ua.indexOf("rv:");
            return parseInt(ua.substring(rv + 3, ua.indexOf(".", rv)), 10);
        }

        // var edge = ua.indexOf('Edge/');
        // if (edge > 0) {
        //     // Edge (IE 12+) => return version number
        //     return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
        // }

        // other browser
        return false;
    }

    function setVideoHeight() {
        const videoRatio = 1920 / 1080;
        const minVideoWidth = 400 * videoRatio;
        let secWidth = 0,
            secHeight = 0;

        secWidth = videoSec.width();
        secHeight = videoSec.height();

        secHeight = secWidth / 2.13;

        if (secHeight > 600) {
            secHeight = 600;
        } else if (secHeight < 400) {
            secHeight = 400;
        }

        if (secWidth > minVideoWidth) {
            $("video").width(secWidth);
        } else {
            $("video").width(minVideoWidth);
        }

        videoSec.height(secHeight);
    }

    // Parallax function
    // https://codepen.io/roborich/pen/wpAsm
    var background_image_parallax = function($object, multiplier) {
        multiplier = typeof multiplier !== "undefined" ? multiplier : 0.5;
        multiplier = 1 - multiplier;
        var $doc = $(document);
        $object.css({ "background-attatchment": "fixed" });
        $(window).scroll(function() {
            var from_top = $doc.scrollTop(),
                bg_css = "center " + multiplier * from_top + "px";
            $object.css({ "background-position": bg_css });
        });
    };

    $(window).scroll(function() {
        if ($(this).scrollTop() > 50) {
            $(".scrolltop:hidden")
                .stop(true, true)
                .fadeIn();
        } else {
            $(".scrolltop")
                .stop(true, true)
                .fadeOut();
        }

        // Make sticky header
        if ($(this).scrollTop() > 158) {
            $(".tm-nav-section").addClass("sticky");
        } else {
            $(".tm-nav-section").removeClass("sticky");
        }
    });

    let videoSec;

    $(function() {
        if (detectIE()) {
            alert(
                "Please use the latest version of Edge, Chrome, or Firefox for best browsing experience."
            );
        }

        const mainNav = $("#tmMainNav");
        mainNav.singlePageNav({
            filter: ":not(.external)",
            offset: $(".tm-nav-section").outerHeight(),
            updateHash: true,
            beforeStart: function() {
                mainNav.removeClass("show");
            }
        });

        videoSec = $("#tmVideoSection");

        // Adjust height of video when window is resized
        $(window).resize(function() {
            setVideoHeight();
        });

        setVideoHeight();

        $(window).on("load scroll resize", function() {
            var scrolled = $(this).scrollTop();
            var vidHeight = $("#hero-vid").height();
            var offset = vidHeight * 0.6;
            var scrollSpeed = 0.25;
            var windowWidth = window.innerWidth;

            if (windowWidth < 768) {
                scrollSpeed = 0.1;
                offset = vidHeight * 0.5;
            }

            $("#hero-vid").css(
                "transform",
                "translate3d(-50%, " + -(offset + scrolled * scrollSpeed) + "px, 0)"
            ); // parallax (25% scroll rate)
        });

        // Parallax image background
        background_image_parallax($(".tm-parallax"), 0.4);

        // Back to top
        $(".scroll").click(function() {
            $("html,body").animate({ scrollTop: $("#home").offset().top },
                "1000"
            );
            return false;
        });
    });
    </script>
</body>

</html>