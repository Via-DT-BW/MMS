{% extends 'home.html' %}
{% block content %}

<head>
    <link href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/extensions/export/bootstrap-table-export.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <style type="text/css">
    #coisas {
        margin-left: 5px;
        margin-right: 5px;

    }
    </style>
</head>

<body>
    <div class="container.fluid" id="coisas" style="font-size:13px">
       
        <div class="card mb-4 mt-2">
            <div class="card-header">
                <div class="row">
                    <div class="col-md-6">
                        <h3 class="mt-4">Requests Finished</h3>
                    </div>
                    <div class="col-md-6">
                        
                    </div>
                </div>
            </div>
            <div class="card-body">
                <table id="table"  class="table table-striped " data-search="true" data-toggle="table" data-show-export="false" data-show-columns="false" data-show-multi-sort="false" data-pagination="true" data-toolbar="#toolbar" data-show-toggle="true" data-resizable="true">
                    <thead id="box" class="bg-light">
                        <tr>
                            <th data-field="1" data-sortable="true">Code</th>
                            <th data-field="2" data-sortable="true">Creation Date</th>
                            <th data-field="3" data-sortable="false">Owner Request</th>
                            <th data-field="4" data-sortable="false">Owner Transports</th>
                            <th data-field="5" data-sortable="false">Cost Center</th>
                            <th data-field="6" data-sortable="false">Cost</th>
                            <th data-field="7" data-sortable="false">Root Cause</th>
                            <th data-field="8" data-sortable="false">Corrective Action</th>
                            <th data-field="9" data-sortable="false">Impact</th>
                            <th data-field="10" data-sortable="false">Status</th>
                        </tr>
                    </thead>
                    <tbody id="tableInfos">
                        <tr>{% for row in approval_requests_done %}
                            <td>{{row.1}}</td>
                            <td>{{row.2}}</td>
                            <td>{{row.36}}</td>
                            <td>{{row.37}}</td>
                            <td>{{row.24}}</td>
                            {% if row.28 == 1 %}
                            <td>{{row.31}} €</td>
                            {% else %}
                            <td>{{row.34}} €</td>
                            {% endif %}
                            
                            <td>{{row.67}}</td>
                            <td>{{row.68}}</td>
                            <td>{{row.69}}</td>
                            {% if  row.39 == 'Open'  %}
                            <td>Waiting for Supervisors</td>
                            {% elif  row.39 == 'Refused'  %}
                            <td style="background-color:#f8d2d2">Refused</td>
                            {% else %}
                            <td>Aceite</td>
                            {% endif %}
                        </tr>{% endfor %}

                    </tbody>
                    
                </table>     
            </div>
        </div>
</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="static/scripts/js/datatables-simple-demo.js"></script>

{% endblock %}